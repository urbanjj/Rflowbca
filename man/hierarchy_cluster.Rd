% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hierarchy.R
\name{hierarchy_cluster}
\alias{hierarchy_cluster}
\title{Analyze and Organize Clusters by Hierarchy}
\usage{
hierarchy_cluster(cluster_tree)
}
\arguments{
\item{cluster_tree}{A nested list representing the cluster hierarchy, typically
the output of \code{build_cluster_tree()}. Each list element is a node, and its
sub-elements are its children.}
}
\value{
A list containing two named elements:
\describe{
\item{unit_set}{A list of data frames. Each data frame corresponds to a
hierarchy level (from the top down) and contains \code{sourceunit} (the basic
unit), \code{h_cl} (the cluster it belongs to at that level), and a \code{core}
flag indicating if its cluster is a core cluster (has more than 1 member).}
\item{cluster_info}{A list of data frames detailing the parent-child
relationships for units that belong to core clusters. It includes the
\code{sourceunit}, its cluster \code{h_cl}, and the parent cluster \code{upper_h_cl}
from the level above.}
}
}
\description{
This function takes a cluster hierarchy (as a nested list) and analyzes its
structure at different levels. It converts the tree into a dendrogram, then
iteratively cuts it at different heights to identify clusters. For each level,
it produces a mapping of units to their respective clusters and identifies
"core" clusters (those with more than one member). It also provides information
about the parent-child relationships between clusters across hierarchical levels.
}
\examples{
\dontrun{
  # Assuming 'bca_result' is the output from flowbca()
  unit_set <- bca_result$unit_set
  # First, build the hierarchy tree
  cluster_tree <- build_cluster_tree(unit_set)
  # Now, analyze the clusters at different hierarchy levels
  hierarchical_clusters <- hierarchy_cluster(cluster_tree)
  # View the unit mappings at the first level of the hierarchy cut
  head(hierarchical_clusters$unit_set[[1]])
  # View the parent links for core clusters at the first level
  head(hierarchical_clusters$cluster_info[[1]])
}
}
